<?xml version="1.0"?>
<!DOCTYPE storm SYSTEM "!storm.dtd">
<storm>
	<rules>
	
		<rule name="korenarkaZachrana_bozena">
			<selectors>
				<hasName name="tvez_bozena" />
			</selectors>
			<operations>
				<addRole name="BOZENA_KORENARKA" />
				<addRole name="BOZENA_KORENARKA_QUEST_POZDRAV" />
			</operations>
		</rule>		

		<rule name="korenarkaZachrana_pavlena">
			<selectors>
				<hasName name="tvez_pavlena" />
			</selectors>
			<operations>
				<addRole name="PAVLENA_DCERA_KORENARKY" />
			</operations>
		</rule>		

		<!-- villagers -->

		<rule name="korenarkaZachrana_muziZTroskovic">
			<selectors>
				<hasName name="ttkc_*" />
				<isMan />
				<isValidOpenworldNpc />
			</selectors>
			<operations>
				<addRole name="PATRANI_PO_PAVLENE_MUZI_Z_TROSKOVIC" />
				<addRole name="VESNICAN_SE_BAVI_O_SMRTI_ROMANA_1" />
				<addRole name="VESNICAN_SE_BAVI_O_SMRTI_ROMANA_2" />
			</operations>
		</rule>
		
		<rule name="korenarkaZachrana_zenyZTroskovic">
			<selectors>
				<hasName name="ttkc_*" />
				<isWoman />
				<isValidOpenworldNpc />
			</selectors>
			<operations>
				<addRole name="PATRANI_PO_PAVLENE_ZENY_Z_TROSKOVIC" />
				<addRole name="VESNICANKA_Z_TROSKOVIC_SE_BAVI_O_SMRTI_PAVLENY_1" />
				<addRole name="VESNICANKA_Z_TROSKOVIC_SE_BAVI_O_SMRTI_PAVLENY_2" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_jezek">
			<selectors>
				<hasName name="ttkc_jezek" />
			</selectors>
			<operations>
				<addRole name="JEZEK_Z_TROSKOVIC" />
			</operations>
		</rule>		

		<rule name="korenarkaZachrana_jakes">
			<selectors>
				<hasName name="ttkc_jakes" />
			</selectors>
			<operations>
				<addRole name="STATKAR_JAKES" />
				<addRole name="STATKAR_JAKES_NARIKA_NAD_HROBEM_SYNA" />
			</operations>
		</rule>		

		<rule name="korenarkaZachrana_dusko">
			<selectors>
				<hasName name="ttkc_dusko" />
			</selectors>
			<operations>
				<addRole name="DUSKO_Z_TROSKOVIC" />
			</operations>
		</rule>		
		
		<rule name="korenarkaZachrana_slama">
			<selectors>
				<hasName name="ttkc_slama" />
			</selectors>
			<operations>
				<addRole name="PACHOLEK_SLAMA" />
			</operations>
		</rule>		

		<rule name="korenarkaZachrana_oldrich">
			<selectors>
				<hasName name="ttkc_oldrich" />
			</selectors>
			<operations>
				<addRole name="PACHOLEK_OLDRICH" />
			</operations>
		</rule>
		
		<rule name="korenarkaZachrana_bailiff">
			<selectors>
				<hasName name="ttkc_drozd" />
			</selectors>
			<operations>
				<addRole name="RYCHTAR_DROZD" />
			</operations>
		</rule>
		
		<rule name="korenarkaZachrana_pasacek">
			<selectors>
				<hasName name="ttkc_prasta" />
			</selectors>
			<operations>
				<addRole name="PASAK_PRASTA_Z_TROSKOVIC" />
			</operations>
		</rule>
		
		<rule name="korenarkaZachrana_marusa">
			<selectors>
				<hasName name="ttkc_marusa" />
			</selectors>
			<operations>
				<addRole name="MARUSKA_Z_JAKESOVA_STATKU" />
			</operations>
		</rule>
		
		<rule name="korenarkaZachrana_olina">
			<selectors>
				<hasName name="ttkc_olina" />
			</selectors>
			<operations>
				<addRole name="OLINA_Z_JAKESOVA_STATKU" />
			</operations>
		</rule>
		
		<rule name="korenarkaZachrana_hospodska">
			<selectors>
				<hasName name="ttkc_inkeeper" />
			</selectors>
			<operations>
				<addRole name="HOSPODSKA_TROSKOVICE" />
			</operations>
		</rule>
		
		<rule name="korenarkaZachrana_hudebnik">
			<selectors>
				<hasName name="ttkc_man_10" />
			</selectors>
			<operations>
				<addRole name="HUDEBNIK_TROSKOVICE" />
			</operations>
		</rule>
		
		<rule name="korenarkaZachrana_hospodska">
			<selectors>
				<hasName name="ttkc_inkeeper" />
			</selectors>
			<operations>
				<addRole name="HOSPODSKA_TROSKOVICE" />
			</operations>
		</rule>
		
		<rule name="korenarkaZachrana_reznik">
			<selectors>
				<hasName name="ttkc_baska" />
			</selectors>
			<operations>
				<addRole name="REZNIK_TROSKOVICE" />
			</operations>
		</rule>
		
		<rule name="korenarkaZachrana_truhlar">
			<selectors>
				<hasName name="ttkc_woodworker" />
			</selectors>
			<operations>
				<addRole name="TRUHLAR_TROSKOVICE" />
			</operations>
		</rule>
		
		<rule name="korenarkaZachrana_krejci">
			<selectors>
				<hasName name="ttkc_bartosek" />
			</selectors>
			<operations>
				<addRole name="KREJCI_BARTOSEK" />
			</operations>
		</rule>
		
		<rule name="korenarkaZachrana_velitel">
			<selectors>
				<hasName name="ttkc_man_1" />
			</selectors>
			<operations>
				<addRole name="VELITEL_STRAZI_TROSKOVICE" />
			</operations>
		</rule>
		
		<rule name="korenarkaZachrana_pisar">
			<selectors>
				<hasName name="ttkc_man_8" />
			</selectors>
			<operations>
				<addRole name="PISAR_TROSKOVICE" />
			</operations>
		</rule>
		
		<rule name="korenarkaZachrana_kupcovaZena">
			<selectors>
				<hasName name="ttkc_woman_3" />
			</selectors>
			<operations>
				<addRole name="KUPCOVA_ZENA_TROSKOVICE" />
			</operations>
		</rule>
		
		<rule name="korenarkaZachrana_kupec">
			<selectors>
				<hasName name="ttkc_man_11" />
			</selectors>
			<operations>
				<addRole name="KUPEC_TROSKOVICE" />
			</operations>
		</rule>
		
		<rule name="korenarkaZachrana_senkyrka">
			<selectors>
				<hasName name="ttkc_woman_1" />
			</selectors>
			<operations>
				<addRole name="SENKYRKA_TROSKOVICE" />
			</operations>
		</rule>
		
		<rule name="korenarkaZachrana_lekarnik">
			<selectors>
				<hasName name="ttkc_man_17" />
			</selectors>
			<operations>
				<addRole name="LEKARNIK_EMERICH_TROSKOVICE" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_ponocny">
			<selectors>
				<hasName name="ttkc_man_7" />
			</selectors>
			<operations>
				<addRole name="PONOCNY_TROSKOVICE" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_matkaObchodnika">
			<selectors>
				<hasName name="ttkc_tradersMom" />
			</selectors>
			<operations>
				<addRole name="MATKA_OBCHODNIKA_TROSKOVICE" />
				<addRole name="PATRANI_PO_PAVLENE_SPOLECNE_ODPOVEDI_ZENA_1" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_vesnicankaTroskovice_1">
			<selectors>
				<hasName name="ttkc_woman_11" />
			</selectors>
			<operations>
				<addRole name="VESNICANKA_TROSKOVICE_1" />
				<addRole name="PATRANI_PO_PAVLENE_SPOLECNE_ODPOVEDI_ZENA_1" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_vesnicankaTroskovice_2">
			<selectors>
				<hasName name="ttkc_woman_15" />
			</selectors>
			<operations>
				<addRole name="VESNICANKA_TROSKOVICE_2" />
				<addRole name="PATRANI_PO_PAVLENE_SPOLECNE_ODPOVEDI_ZENA_1" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_vesnicankaTroskovice_3">
			<selectors>
				<hasName name="ttkc_woman_9" />
			</selectors>
			<operations>
				<addRole name="VESNICANKA_TROSKOVICE_3" />
				<addRole name="PATRANI_PO_PAVLENE_SPOLECNE_ODPOVEDI_ZENA_2" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_vesnicankaTroskovice_4">
			<selectors>
				<hasName name="ttkc_woman_12" />
			</selectors>
			<operations>
				<addRole name="VESNICANKA_TROSKOVICE_4" />
				<addRole name="PATRANI_PO_PAVLENE_SPOLECNE_ODPOVEDI_ZENA_2" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_vesnicankaTroskovice_5">
			<selectors>
				<hasName name="ttkc_woman_13" />
			</selectors>
			<operations>
				<addRole name="VESNICANKA_TROSKOVICE_5" />
				<addRole name="PATRANI_PO_PAVLENE_SPOLECNE_ODPOVEDI_ZENA_2" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_vesnicankaTroskovice_6">
			<selectors>
				<hasName name="ttkc_woman_14" />
			</selectors>
			<operations>
				<addRole name="VESNICANKA_TROSKOVICE_6" />
				<addRole name="PATRANI_PO_PAVLENE_SPOLECNE_ODPOVEDI_ZENA_2" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_vesnicankaTroskovice_7">
			<selectors>
				<hasName name="ttkc_woman_16" />
			</selectors>
			<operations>
				<addRole name="VESNICANKA_TROSKOVICE_7" />
				<addRole name="PATRANI_PO_PAVLENE_SPOLECNE_ODPOVEDI_ZENA_2" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_vesnicankaTroskovice_8">
			<selectors>
				<hasName name="ttkc_woman_17" />
			</selectors>
			<operations>
				<addRole name="VESNICANKA_TROSKOVICE_8" />
				<addRole name="PATRANI_PO_PAVLENE_SPOLECNE_ODPOVEDI_ZENA_2" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_vesnicankaTroskovice_9">
			<selectors>
				<hasName name="ttkc_woman_18" />
			</selectors>
			<operations>
				<addRole name="VESNICANKA_TROSKOVICE_9" />
				<addRole name="PATRANI_PO_PAVLENE_SPOLECNE_ODPOVEDI_ZENA_2" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_vesnicankaTroskovice_10">
			<selectors>
				<hasName name="ttkc_barbora" />
			</selectors>
			<operations>
				<addRole name="VESNICANKA_TROSKOVICE_10" />
				<addRole name="PATRANI_PO_PAVLENE_SPOLECNE_ODPOVEDI_ZENA_2" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_deveckaVHospode">
			<selectors>
				<hasName name="ttkc_woman_2" />
			</selectors>
			<operations>
				<addRole name="DEVECKA_HOSPODA_TROSKOVICE" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_deveckaUObchodnika1">
			<selectors>
				<hasName name="ttkc_woman_4" />
			</selectors>
			<operations>
				<addRole name="DEVECKA_U_OCHODNIKA_TROSKOVICE_1" />
				<addRole name="PATRANI_PO_PAVLENE_SPOLECNE_ODPOVEDI_ZENA_2" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_deveckaUObchodnika2">
			<selectors>
				<hasName name="ttkc_woman_6" />
			</selectors>
			<operations>
				<addRole name="DEVECKA_U_OCHODNIKA_TROSKOVICE_2" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_duskovaZena">
			<selectors>
				<hasName name="ttkc_woman_8" />
			</selectors>
			<operations>
				<addRole name="DUSKOVA_ZENA" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_sekuritakVObchode">
			<selectors>
				<hasName name="ttkc_man_12" />
			</selectors>
			<operations>
				<addRole name="OCHRANKA_V_OBCHODE_TROSKOVICE" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_podkoni1">
			<selectors>
				<hasName name="ttkc_man_13" />
			</selectors>
			<operations>
				<addRole name="PODKONI_TROSKOVICE" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_podkoni2">
			<selectors>
				<hasName name="ttkc_man_14" />
			</selectors>
			<operations>
				<addRole name="PODKONI_TROSKOVICE_2" />
				<addRole name="PATRANI_PO_PAVLENE_SPOLECNE_ODPOVEDI_MUZ_1" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_pacholekUKrejciho">
			<selectors>
				<hasName name="ttkc_man_15" />
			</selectors>
			<operations>
				<addRole name="PACHOLEK_U_KREJCIHO_TROSKOVICE" />
				<addRole name="PATRANI_PO_PAVLENE_SPOLECNE_ODPOVEDI_MUZ_2" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_kucharVHospode">
			<selectors>
				<hasName name="ttkc_man_16" />
			</selectors>
			<operations>
				<addRole name="KUCHAR_TROSKOVICE" />
				<addRole name="PATRANI_PO_PAVLENE_SPOLECNE_ODPOVEDI_MUZ_3" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_pacholekULekarnika1">
			<selectors>
				<hasName name="ttkc_man_18" />
			</selectors>
			<operations>
				<addRole name="PACHOLEK_LEKARNIKA_TROSKOVICE_1" />
				<addRole name="PATRANI_PO_PAVLENE_SPOLECNE_ODPOVEDI_MUZ_4" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_pacholekULekarnika">
			<selectors>
				<hasName name="ttkc_man_19" />
			</selectors>
			<operations>
				<addRole name="PACHOLEK_LEKARNIKA_TROSKOVICE_2" />
				<addRole name="PATRANI_PO_PAVLENE_SPOLECNE_ODPOVEDI_MUZ_5" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_vesnicanTroskovice_1">
			<selectors>
				<hasName name="ttkc_man_31" />
			</selectors>
			<operations>
				<addRole name="VESNICAN_TROSKOVICE_1" />
				<addRole name="PATRANI_PO_PAVLENE_SPOLECNE_ODPOVEDI_MUZ_1" />
			</operations>
		</rule>		

		<rule name="korenarkaZachrana_vesnicanTroskovice_2">
			<selectors>
				<hasName name="ttkc_man_27" />
			</selectors>
			<operations>
				<addRole name="VESNICAN_TROSKOVICE_2" />
				<addRole name="PATRANI_PO_PAVLENE_SPOLECNE_ODPOVEDI_MUZ_2" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_vesnicanTroskovice_3">
			<selectors>
				<hasName name="ttkc_man_29" />
			</selectors>
			<operations>
				<addRole name="VESNICAN_TROSKOVICE_3" />
				<addRole name="PATRANI_PO_PAVLENE_SPOLECNE_ODPOVEDI_MUZ_2" />
			</operations>
		</rule>		

		<rule name="korenarkaZachrana_vesnicanTroskovice_4">
			<selectors>
				<hasName name="ttkc_man_24" />
			</selectors>
			<operations>
				<addRole name="VESNICAN_TROSKOVICE_4" />
				<addRole name="PATRANI_PO_PAVLENE_SPOLECNE_ODPOVEDI_MUZ_3" />
			</operations>
		</rule>		

		<rule name="korenarkaZachrana_vesnicanTroskovice_5">
			<selectors>
				<hasName name="ttkc_man_28" />
			</selectors>
			<operations>
				<addRole name="VESNICAN_TROSKOVICE_5" />
				<addRole name="PATRANI_PO_PAVLENE_SPOLECNE_ODPOVEDI_MUZ_3" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_vesnicanTroskovice_6">
			<selectors>
				<hasName name="ttkc_man_25" />
			</selectors>
			<operations>
				<addRole name="VESNICAN_TROSKOVICE_6" />
				<addRole name="PATRANI_PO_PAVLENE_SPOLECNE_ODPOVEDI_MUZ_4" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_vesnicanTroskovice_7">
			<selectors>
				<hasName name="ttkc_man_33" />
			</selectors>
			<operations>
				<addRole name="VESNICAN_TROSKOVICE_7" />
				<addRole name="PATRANI_PO_PAVLENE_SPOLECNE_ODPOVEDI_MUZ_4" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_vesnicanTroskovice_8">
			<selectors>
				<hasName name="ttkc_man_26" />
			</selectors>
			<operations>
				<addRole name="VESNICAN_TROSKOVICE_8" />
				<addRole name="PATRANI_PO_PAVLENE_SPOLECNE_ODPOVEDI_MUZ_5" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_vesnicanTroskovice_9">
			<selectors>
				<hasName name="ttkc_man_30" />
			</selectors>
			<operations>
				<addRole name="VESNICAN_TROSKOVICE_9" />
				<addRole name="PATRANI_PO_PAVLENE_SPOLECNE_ODPOVEDI_MUZ_5" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_vesnicanTroskovice_10">
			<selectors>
				<hasName name="ttkc_man_32" />
			</selectors>
			<operations>
				<addRole name="VESNICAN_TROSKOVICE_10" />
				<addRole name="PATRANI_PO_PAVLENE_SPOLECNE_ODPOVEDI_MUZ_5" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_vesnicanTroskovice_11">
			<selectors>
				<hasName name="ttkc_man_34" />
			</selectors>
			<operations>
				<addRole name="VESNICAN_TROSKOVICE_11" />
				<addRole name="PATRANI_PO_PAVLENE_SPOLECNE_ODPOVEDI_MUZ_1" />
			</operations>
		</rule>	
		
		<!-- guards -->

		<rule name="korenarkaZachrana_guard1">
			<selectors>
				<hasName name="ttkc_extraGuard_1" />
			</selectors>
			<operations>
				<addRole name="STRAZ_TROSKOVICE_1" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_guard2">
			<selectors>
				<hasName name="ttkc_extraGuard_2" />
			</selectors>
			<operations>
				<addRole name="STRAZ_TROSKOVICE_2" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_guard3">
			<selectors>
				<hasName name="ttkc_extraGuard_3" />
			</selectors>
			<operations>
				<addRole name="STRAZ_TROSKOVICE_3" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_guard4">
			<selectors>
				<hasName name="ttkc_extraGuard_4" />
			</selectors>
			<operations>
				<addRole name="STRAZ_TROSKOVICE_4" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_guard5">
			<selectors>
				<hasName name="ttkc_extraGuard_5" />
			</selectors>
			<operations>
				<addRole name="STRAZ_TROSKOVICE_5" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_guard6">
			<selectors>
				<hasName name="ttkc_man_2" />
			</selectors>
			<operations>
				<addRole name="STRAZ_TROSKOVICE_6" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_guard7">
			<selectors>
				<hasName name="ttkc_man_20" />
			</selectors>
			<operations>
				<addRole name="STRAZ_TROSKOVICE_7" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_guard8">
			<selectors>
				<hasName name="ttkc_man_21" />
			</selectors>
			<operations>
				<addRole name="STRAZ_TROSKOVICE_8" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_guard9">
			<selectors>
				<hasName name="ttkc_man_22" />
			</selectors>
			<operations>
				<addRole name="STRAZ_TROSKOVICE_9" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_guard10">
			<selectors>
				<hasName name="ttkc_man_23" />
			</selectors>
			<operations>
				<addRole name="STRAZ_TROSKOVICE_10" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_guard11">
			<selectors>
				<hasName name="ttkc_man_3" />
			</selectors>
			<operations>
				<addRole name="STRAZ_TROSKOVICE_11" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_guard12">
			<selectors>
				<hasName name="ttkc_man_4" />
			</selectors>
			<operations>
				<addRole name="STRAZ_TROSKOVICE_12" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_guard13">
			<selectors>
				<hasName name="ttkc_man_5" />
			</selectors>
			<operations>
				<addRole name="STRAZ_TROSKOVICE_13" />
			</operations>
		</rule>

		<rule name="korenarkaZachrana_guard14">
			<selectors>
				<hasName name="ttkc_man_6" />
			</selectors>
			<operations>
				<addRole name="STRAZ_TROSKOVICE_14" />
			</operations>
		</rule>

    </rules>
</storm>